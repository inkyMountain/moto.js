{"version":3,"sources":["webpack://moto/webpack/universalModuleDefinition","webpack://moto/webpack/bootstrap","webpack://moto/./src/core/tween.js","webpack://moto/./src/core/chain.js","webpack://moto/./src/core/composite.js","webpack://moto/./src/core/easing.js","webpack://moto/./src/core/curve/bezier.js","webpack://moto/./src/core/curve/bezier.cubic.js","webpack://moto/./src/core/curve/catmull-rom.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","option","from","to","duration","ease","yoyo","loop","start","complex","isNaN","count","update","complete","id","delta","result","forward","stoped","paused","finished","run","requestAnimationFrame","keys","forEach","Function","stop","cancelAnimationFrame","pause","this","resume","animes","action","shift","length","anime","total","end","actions","map","v","calc","x","y","z","points","bezier","w","speed","first","last","push","unshift","iterator","p1","p2","p3","p4","dt","Math","sqrt","generate","next","catmullRom","done"],"mappings":"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","file":"moto.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"moto\"] = factory();\n\telse\n\t\troot[\"moto\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/*\n@param {object} - tween 函数参数\n@param {object|number} option.from - 初始状态：{x: 0, y: 0} 或者 0\n@param {object|number} option.to - 结束状态：{x: 10, y: 10} 或者 10\n@param {number} [option.duration=1] - 动画时长：单位s\n@param {function} [option.ease=t=>t] - 时间函数：t => t 或者 t => t ** 2\n@param {number} [option.yoyo=0] - 回荡次数：默认 0\n@param {number} [option.loop=0] - 循环次数：默认 0\n*/\n\nexport default function(option) {\n  const\n    {\n      from, to,\n      duration = 1,\n      ease = t => t,\n      yoyo = 0,\n      loop = 0\n    } = option\n\n  function start(option) {\n    const\n      complex = isNaN(from),\n      count = {\n        yoyo: 0,\n        loop: 0\n      }\n\n    let\n      update, complete,\n      id, delta, result,\n      t = 0, forward = 1,\n      stoped = false, paused = false,\n      finished = false\n\n    complex ? (delta = {}, result = {}, Object.keys(from).forEach(key => {\n      delta[key] = to[key] - from[key]\n    })) : delta = to - from\n\n    option instanceof Function ? update = option : {update, complete} = option\n\n    run()\n    function run() {\n      t += (1 / 60 / duration) * forward\n      t > 1 ? t = 1 : t < 0 ? t = 0 : null\n\n      if (complex) for (const key in delta) {\n        result[key] = from[key] + delta[key] * ease(t)\n      } else result = from + delta * ease(t)\n\n      update(result)\n\n      if ((forward === 1 && t === 1) ||\n        (forward === -1 && t === 0)) {\n        if (loop > count.loop) {\n          count.loop++\n          t = 0\n          id = requestAnimationFrame(run)\n        } else if (yoyo > count.yoyo) {\n          count.yoyo++\n          forward *= -1\n          id = requestAnimationFrame(run)\n        } else {\n          finished = true\n          complete && complete()\n        }\n      } else {\n        id = requestAnimationFrame(run)\n      }\n    }\n\n    return {\n      stop() {\n        stoped = true\n        cancelAnimationFrame(id)\n      },\n\n      pause() {\n        if (stoped || finished) return this\n        paused = true\n        cancelAnimationFrame(id)\n        return this\n      },\n\n      resume() {\n        paused && (paused = false, run())\n        return this\n      }\n    }\n  }\n\n  return {start}\n}","export default function(...animes) {\n  function start(option) {\n\n    let update, complete, action,\n      stoped = false,\n      finished = false,\n      paused = false\n\n    option instanceof Function ? update = option : {update, complete} = option\n\n    run()\n    function run() {\n      action = animes.shift().start({\n        update,\n        complete() {\n          if (animes.length) run()\n          else {\n            finished = true\n            complete && complete()\n          }\n        }\n      })\n    }\n\n    return {\n      stop() {\n        stoped = true\n        action && action.stop()\n      },\n\n      pause() {\n        if (stoped || finished) return\n        paused = true\n        action.pause()\n        return this\n      },\n\n      resume() {\n        paused && action && (paused = false, action.resume())\n        return this\n      }\n    }\n  }\n\n  return {start}\n}","export default function(anime) {\n  const keys = Object.keys(anime)\n\n  function start(option) {\n    const result = {}\n    let update, complete,\n      total = {start: 0, end: 0},\n      stoped = false,\n      paused = false,\n      finished = false\n\n    option instanceof Function ? update = option : {update, complete} = option\n\n    const actions = keys.map(key => {\n      total.start++\n      return anime[key].start({\n        update: v => {\n          result[key] = v\n          total.start === keys.length && update(result)\n        },\n\n        complete: () => {\n          total.end++\n          total.end === keys.length && complete && complete()\n        }\n      })\n    })\n\n    return {\n      stop() {\n        stoped = true\n        actions.forEach(action => action.stop())\n      },\n\n      pause() {\n        if (stoped || finished) return\n        paused = true\n        actions.forEach(action => action.pause())\n        return this\n      },\n\n      resume() {\n        if (!paused) return this\n        paused = false\n        actions.forEach(action => action.resume())\n        return\n      }\n    }\n  }\n\n  return {start}\n}","export function linear(t) {\n  return t\n}\n\nexport function easeOut(t) {\n  return t * (2 - t)\n}\n\nexport function easeIn(t) {\n  return t ** 2\n}\n\nexport function easeInOut(t) {\n  t *= 2\n  if (t < 1) return .5 * t ** 2\n  t--\n  return .5 * (1 - t * (t - 2))\n}\n","export default function(option) {\n  const\n    {\n      points = [],\n      duration = 1,\n      ease = t => t,\n      loop = 0,\n      yoyo = 0\n    } = option,\n\n    count = {\n      yoyo: 0,\n      loop: 0\n    }\n\n  function start(option) {\n    let id, update, complete,\n      t = 0, forward = 1,\n      stoped = false,\n      paused = false,\n      finished = false\n\n    option instanceof Function ? update = option : {update, complete} = option\n\n    run()\n    function run() {\n      t += (1 / 60 / duration) * forward\n      t > 1 ? t = 1 : t < 0 ? t = 0 : null\n\n      update(bezier(points, ease(t)))\n\n      if ((forward === 1 && t === 1) ||\n        (forward === -1 && t === 0)) {\n        if (loop > count.loop) {\n          count.loop++\n          t = 0\n          id = requestAnimationFrame(run)\n        } else if (yoyo > count.yoyo) {\n          count.yoyo++\n          forward *= -1\n          id = requestAnimationFrame(run)\n        } else {\n          finished = true\n          complete && complete()\n        }\n      } else {\n        id = requestAnimationFrame(run)\n      }\n    }\n\n    return {\n      stop() {\n        stoped = true\n        cancelAnimationFrame(id)\n      },\n\n      pause() {\n        if (stoped || finished) return\n        paused = true\n        cancelAnimationFrame(id)\n        return this\n      },\n\n      resume() {\n        paused && (paused = false, run())\n        return this\n      }\n    }\n  }\n\n  return {start}\n}\n\nfunction bezier(points, t) {\n  return {\n    x: calc(points[0].x, points[1].x, points[2].x, t),\n    y: calc(points[0].y, points[1].y, points[2].y, t)\n  }\n}\n\nfunction calc(x, y, z, t) {\n  return (1 - t) ** 2 * x + 2 * (1 - t) * t * y + t ** 2 * z\n}","export default function(option) {\n  const\n    {\n      points = [],\n      duration = 1,\n      ease = t => t,\n      yoyo = 0,\n      loop = 0\n    } = option,\n\n    count = {\n      yoyo: 0,\n      loop: 0\n    }\n\n  function start(option) {\n    let id, update, complete,\n      t = 0, forward = 1,\n      stoped = false,\n      paused = false,\n      finished = false\n\n    option instanceof Function ? update = option : {update, complete} = option\n\n    run()\n    function run() {\n      t += (1 / 60 / duration) * forward\n      t > 1 ? t = 1 : t < 0 ? t = 0 : 0\n\n      update(bezier(points, ease(t)))\n\n      if ((forward === 1 && t === 1) ||\n        (forward === -1 && t === 0)) {\n        if (loop > count.loop) {\n          count.loop++\n          t = 0\n          id = requestAnimationFrame(run)\n        } else if (yoyo > count.yoyo) {\n          count.yoyo++\n          forward *= -1\n          id = requestAnimationFrame(run)\n        } else {\n          finished = true\n          complete && complete()\n        }\n      } else {\n        id = requestAnimationFrame(run)\n      }\n    }\n\n    return {\n      stop() {\n        stoped = true\n        cancelAnimationFrame(id)\n      },\n\n      pause() {\n        if (stoped || finished) return\n        paused = true\n        cancelAnimationFrame(id)\n        return this\n      },\n\n      resume() {\n        paused && (paused = false, run())\n        return this\n      }\n    }\n  }\n\n  return {start}\n}\n\nfunction bezier(points, t) {\n  return {\n    x: calc(points[0].x, points[1].x, points[2].x, points[3].x, t),\n    y: calc(points[0].y, points[1].y, points[2].y, points[3].y, t)\n  }\n}\n\nfunction calc(w, x, y, z, t) {\n  return (1 - t) ** 3 * w +\n    3 * (1 - t) ** 2 * t * x +\n    3 * (1 - t) * t ** 2 * y +\n    t ** 3 * z\n}","/*\n* @param {object} option\n* @param {array} option.points - 路径点数组\n* @param {number} [option.speed=10] - 移动速度\n* @param {boolean} [option.loop] - 是否自动闭合路径\n*/\nexport default function (option) {\n  const {points, speed = 10, loop = false} = option\n\n  if (loop) {\n    const\n      first = points[0],\n      last = points[points.length - 1]\n\n    !(first.x === last.x && first.y === last.y) && points.push(first)\n  }\n\n  /* catmull rom 不会连接首尾点 */\n  points.unshift(points[0])\n  points.push(points[points.length - 1])\n\n  function start(option) {\n    let id, update, complete, t = 0,\n      stoped = false,\n      paused = false,\n      finished = false\n\n    option instanceof Function ? update = option : {update, complete} = option\n\n    function* generate() {\n      for (let i = 0; i + 3 < points.length; i++) {\n        yield {\n          p1: points[i],\n          p2: points[i + 1],\n          p3: points[i + 2],\n          p4: points[i + 3],\n          dt: speed / distance(points[i + 1], points[i + 2])\n        }\n      }\n    }\n\n    const iterator = generate()\n    let {p1, p2, p3, p4, dt} = iterator.next().value\n\n    run()\n    function run() {\n      t += dt\n      t > 1 ? t = 1 : null\n\n      update(catmullRom(p1, p2, p3, p4, t))\n\n      if (t === 1) {\n        const {value, done} = iterator.next()\n        if (done) complete && complete()\n        else {\n          ({p1, p2, p3, p4, dt} = value)\n          t = 0\n          id = requestAnimationFrame(run)\n        }\n      } else id = requestAnimationFrame(run)\n    }\n\n    return {\n      stop() {\n        stoped = true\n        cancelAnimationFrame(id)\n      },\n\n      pause() {\n        if (stoped || finished) return\n        paused = true\n        cancelAnimationFrame(id)\n        return this\n      },\n\n      resume() {\n        paused && (paused = false, run())\n        return this\n      }\n    }\n  }\n\n  return {start}\n}\n\nfunction distance(p1, p2) {\n  return Math.sqrt((p1.x - p2.x) ** 2 + (p1.y - p2.y) ** 2)\n}\n\nfunction catmullRom(p1, p2, p3, p4, t) {\n  return {\n    x: calc(p1.x, p2.x, p3.x, p4.x, t),\n    y: calc(p1.y, p2.y, p3.y, p4.y, t)\n  }\n}\n\nfunction calc(w, x, y, z, t) {\n  return (((-w + 3 * x - 3 * y + z) * t + (2 * w - 5 * x + 4 * y - z)) * t + y - w) * .5 * t + x\n}"],"sourceRoot":""}